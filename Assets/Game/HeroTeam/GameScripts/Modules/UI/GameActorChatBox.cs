using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class GameActorChatBox : MonoBehaviour
{



    [SerializeField] private Text m_ChatText;
    [SerializeField] private float m_LineHeight = 44.5f;



    private void OnEnable( )
    {
        m_ChatText.text = "";

        //模拟
        StartCoroutine( SimulatedDialogue( ) );
    }


    IEnumerator SimulatedDialogue( )
    {

        yield return null;
        var ChatContents = new List<string>( )
        {
    "拉格纳罗斯: 感受萨弗隆的烈焰吧!!!",
    "团长: 全员分散站位, 躲AOE",
    "拉格纳罗斯: 让火焰净化一切",
    "小兵: 又是这个技能，我鞋都烤焦了",
    "冰语者艾尔莎: 冰封万里，冻结敌心！",
    "团长: 快打断她的吟唱，别发呆！",
    "小兵: 我刚想喝口水，就开怪了？",
    "工程师巴克: 等等，我的炸弹还没布完！",
    "团长: 奶妈拉起来，T快顶住！",
    "圣骑士雷蒙德: 圣光，将我引向胜利！",
    "小兵: 他每次开技能都在喊口号，不累吗？",
    "拉格纳罗斯: 你们的躯壳将在烈焰中燃尽！",
    "团长: T注意拉住小怪，别乱跑！",
    "小兵: 我不是怕死，我是怕罚站",
    "冰语者艾尔莎: 寒冰之握，将你冻成雕像！",
    "小兵: 不好意思，我不是雕像，是站桩输出",
    "工程师巴克: 小心，5秒后大爆炸！",
    "团长: 全员集合，准备集体减伤！",
    "圣骑士雷蒙德: 以圣光之名，驱散黑暗！",
    "小兵: 我以懒惰之名，坐等躺尸",
    "拉格纳罗斯: 我要把这片大地烧成灰烬！",
    "团长: 别站火里！你看你脚下！",
    "小兵: 我以为那是装饰特效……",
    "冰语者艾尔莎: 冰晶风暴，吞噬你们的意志！",
    "工程师巴克: 我的机器人失控了，挡住它！",
    "团长: 法师开冰环控制，别让它跑！",
    "小兵: 啊？我没点冰环，我点的羊！",
    "圣骑士雷蒙德: 圣盾术已启，无所畏惧！",
    "团长: 别浪，快给DPS上buff！",
    "拉格纳罗斯: 灾厄从火焰中降临！",
    "小兵: 我的人生也从进副本开始下坡了",
    "工程师巴克: 爆炸，爆炸，再爆炸！",
    "冰语者艾尔莎: 你的热血，我来冷却",
    "小兵: 不是她冷，是我冻住了",
    "团长: 快打掉冰霜球体！别留着害人！",
    "圣骑士雷蒙德: 我将为你们承担所有伤害！",
    "小兵: 好感人，可你能扛住三连喷吗？",
    "拉格纳罗斯: 我是不灭的烈焰！",
    "团长: D阶段来了，注意BOSS位置！",
    "工程师巴克: 啊！我的引线烧反了！",
    "小兵: 谁让你在战斗中组装炸弹的？",
    "冰语者艾尔莎: 冰刃之雨，凛冽而至！",
    "团长: 所有人靠近，吃治疗罩！",
    "小兵: 别围着我，我还想活几秒！",
    "圣骑士雷蒙德: 祝福已加持，你们不会倒下！",
    "拉格纳罗斯: 看着你们挣扎，真是美妙",
    "小兵: 他绝对是个恋火癖",
    "工程师巴克: 地雷布好，别踩啊！",
    "团长: 又是谁踩了雷？！",
    "小兵: 脚滑不能怪我",
    "冰语者艾尔莎: 冰霜会冻结你们的灵魂！",
    "圣骑士雷蒙德: 我的信仰不会被寒冷动摇！",
    "团长: DPS快点打断，不然团灭了！",
    "小兵: 我键位找不到打断了……",
    "拉格纳罗斯: 你们的命运，就是被焚尽",
    "团长: 注意位移技能，不要原地等死",
    "小兵: 我就喜欢站桩输出的浪漫",
    "工程师巴克: 三秒后全屏雷爆，小心！",
    "团长: 开大减伤，治疗准备爆发奶！",
    "冰语者艾尔莎: 你们的热情，该降温了",
    "小兵: 我的输出也被降温了",
    "圣骑士雷蒙德: 我将用荣耀守护你们！",
    "团长: 火力集中左翼小怪，快清场！",
    "小兵: 我打的不是怪，是自己上班的情绪",
    "拉格纳罗斯: 火焰，是我唯一的信仰！",
    "小兵: 你找个灭火器谈谈？",
    "工程师巴克: 装置启动啦，但可能会爆……",
    "团长: 这不是“可能”，这是一定！",
    "冰语者艾尔莎: 雪花飘落，死亡临近",
    "小兵: 这雪下得我头皮发麻",
    "圣骑士雷蒙德: 圣印之光，净化邪恶！",
    "团长: 别站太近，保持间距",
    "小兵: 我就想靠近感受温暖……",
    "拉格纳罗斯: 你们连灰烬都不配留下！",
    "工程师巴克: 啊啊啊，又炸了，我手滑！",
    "冰语者艾尔莎: 沉睡吧，在永恒的寒冰中",
    "团长: 还有30%，打快点！",
    "小兵: 我已经打出我的灵魂了！",
    "圣骑士雷蒙德: 战到最后一刻，不退！",
    "团长: 开英雄技能，一波打掉！",
    "拉格纳罗斯: 不……我还未燃尽！",
    "小兵: 终于熄火了……我裤子都烧黑了",
    "工程师巴克: 成功了？太好了，我还活着！",
    "冰语者艾尔莎: 我……会回来的……",
    "团长: 干得漂亮，准备分战利品！",
    "小兵: 能给我个裤子吗？我真的烧了……",
    "圣骑士雷蒙德: 愿圣光与我们同在！"
};

        int index = 0;
        while ( index < ChatContents.Count )
        {
            string content =  ChatContents[ index++ ];
            AppendChat( content );

            yield return new WaitForSeconds( Random.Range( 1.5f, 3f ) );
        }

    }


    public void AppendChat( string text )
    {

        m_ChatText.text += text + "\n";
        m_ChatText.rectTransform.sizeDelta += Vector2.up * m_LineHeight;
        m_ChatText.transform.localPosition += Vector3.up * m_LineHeight;
    }

}
